{"version":3,"sources":["select/select.js","index.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","clazz","id","value","join","Select","selector","options","elem","document","querySelector","e","type","target","dataset","toggle","select","close","isOpen","open","textContent","current","querySelectorAll","forEach","classList","remove","add","onSelect","icon","clickHandler","innerHTML","find","contains","bind","addEventListener","console","log","window","s"],"mappings":"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","file":"selectPlugin.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\r\n    let text = placeholder || 'Placeholder default'\r\n\r\n    const items = data.map(item => {\r\n        let clazz = ''\r\n        if (item.id === selectedId) {\r\n            text = item.value\r\n            clazz = 'selected'\r\n        }\r\n        return `\r\n             <li class=\"select__item ${clazz}\" data-type='item' data-id=\"${item.id}\">${item.value}</li>\r\n        `\r\n\r\n    })\r\n    return `\r\n    <div class=\"select__closearea\" data-type=\"close\"></div>\r\n    <div class=\"select__input\" data-type=\"input\">\r\n        <span data-type=\"value\">${text}</span>\r\n        <i class=\"fas fa-chevron-circle-down\" data-type=\"icon\"></i>\r\n    </div>\r\n    <div class=\"select__dropdown\">\r\n        <ul class=\"select__list\">\r\n           ${items.join('')} \r\n        </ul>\r\n    </div>\r\n    `\r\n}\r\n\r\n\r\nexport class Select {\r\n    constructor(selector, options) {\r\n        this.elem = document.querySelector(selector)\r\n        this.options = options\r\n        this.selectedId = options.selectedId\r\n        this.#render()\r\n        this.#setup()\r\n    }\r\n\r\n    #render() {\r\n        const {placeholder, data} = this.options\r\n        this.elem.classList.add('select')\r\n        this.elem.innerHTML = getTemplate(data, placeholder, this.selectedId)\r\n    }\r\n\r\n    #setup() {\r\n        this.clickHandler = this.clickHandler.bind(this)\r\n        this.elem.addEventListener('click', this.clickHandler)\r\n        this.icon = this.elem.querySelector(\"[data-type = 'icon']\")\r\n        this.value = this.elem.querySelector(\"[data-type = 'value']\")\r\n    }\r\n\r\n    clickHandler(e) {\r\n        const { type } = e.target.dataset\r\n        if (type === 'input') {\r\n            this.toggle()\r\n        } else if (type === 'item') {\r\n            const id = e.target.dataset.id\r\n            this.select(id)\r\n        } else if (type === 'close') {\r\n            this.close()\r\n        }\r\n    }\r\n\r\n    get current() {\r\n        return this.options.data.find(item => item.id === this.selectedId)\r\n    }\r\n\r\n    get isOpen() {\r\n        return this.elem.classList.contains('open')\r\n    }\r\n\r\n    toggle() {\r\n        this.isOpen ? this.close() : this.open()\r\n    }\r\n\r\n    select(id) {\r\n        this.selectedId = id\r\n        this.value.textContent = this.current.value\r\n        this.elem.querySelectorAll('[data-type=\"item\"]').forEach(item => {\r\n            item.classList.remove('selected')\r\n        })\r\n        this.elem.querySelector(`[data-id=\"${id}\"]`).classList.add('selected')\r\n        this.options.onSelect ? this.options.onSelect(this.current) : null\r\n        this.close()\r\n    }\r\n\r\n\r\n    open() {\r\n        this.elem.classList.add('open')\r\n        this.icon.classList.remove('fa-chevron-circle-down')\r\n        this.icon.classList.add('fa-chevron-circle-up')\r\n    }\r\n\r\n\r\n    close() {\r\n        this.elem.classList.remove('open')\r\n        this.icon.classList.remove('fa-chevron-circle-up')\r\n        this.icon.classList.add('fa-chevron-circle-down')\r\n\r\n    }\r\n\r\n    destroy() {\r\n        this.elem.remove('click', this.clickHandler)\r\n        this.elem.innerHTML = ''\r\n    }\r\n\r\n\r\n\r\n\r\n}","import {Select} from \"./select/select\";\r\n\r\n\r\nconst select = new Select('#select', {\r\n    placeholder: 'Select item',\r\n    selectedId: '2',\r\n    data: [\r\n        {id: '1', value: 'HTML'},\r\n        {id: '2', value: 'CSS'},\r\n        {id: '3', value: 'JS'},\r\n        {id: '4', value: 'React'},\r\n        {id: '5', value: 'Redux'},\r\n        {id: '6', value: 'Vue'},\r\n    ],\r\n    onSelect(item) {\r\n        console.log('Selected item', item)\r\n    }\r\n});\r\n\r\nwindow.s = select\r\n\r\n"]}